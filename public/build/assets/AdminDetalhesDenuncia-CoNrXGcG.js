import{r as n,j as e,m as d,q as C}from"./app-aEolSpHz.js";import{A as u}from"./AdminLayout-D4wn_rRk.js";import{E as r}from"./types-BajF9UX7.js";import{B as c}from"./button-Dkwouc6J.js";import{T as g}from"./textarea-CjZ1sPzF.js";import{S as x,a as h,b as p,c as j,d as i}from"./select-3WRfrtq3.js";import{S as s}from"./sweetalert2.esm.all-89IKscqO.js";import{D}from"./DetalhesDenuncia-B_EUSHxx.js";/* empty css            */import"./createLucideIcon-D5YUeAK2.js";import"./log-out-FPLVxt3U.js";import"./utils-jAU0Cazi.js";import"./index-DU0CmYYI.js";import"./index-DPgDlXxy.js";import"./Combination-BcOWmh7Q.js";import"./index-Dac0J2iR.js";import"./badge-D7HDl35m.js";import"./card-IjOqbyxU.js";import"./pt-BR-D8VIATEZ.js";const b=({denuncia:a})=>{const[l,f]=n.useState(a.status),[t,m]=n.useState(""),[v,N]=n.useState("email"),S=()=>{d.put(route("admin.denuncias.update",{id:a.id}),{status:l},{onSuccess:()=>{s.fire("Status Atualizado","O status da denúncia foi atualizado com sucesso.","success")},onError:o=>{s.fire("Erro","Ocorreu um erro ao atualizar o status.","error"),console.error(o)}})},E=()=>{if(!t.trim()){s.fire("Erro","O comentário não pode estar vazio.","error");return}d.post(route("admin.comentarios.store",{id:a.id}),{comentario:t},{onSuccess:()=>{s.fire("Comentário Adicionado","O comentário foi adicionado com sucesso.","success"),m("")},onError:o=>{s.fire("Erro","Ocorreu um erro ao adicionar o comentário.","error"),console.error(o)}})},A=()=>{if(!a.contato){s.fire("Erro","Esta denúncia não possui informações de contato.","error");return}s.fire("Notificação Enviada","A notificação foi enviada com sucesso (funcionalidade mock).","info")};return e.jsxs("div",{className:"border-t pt-6 mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Gerenciar Denúncia"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Atualizar Status"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-full max-w-xs",children:e.jsxs(x,{value:l,onValueChange:o=>f(o),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Selecione um status"})}),e.jsxs(j,{children:[e.jsx(i,{value:r.Nova,children:"Nova"}),e.jsx(i,{value:r.EmAnalise,children:"Em Análise"}),e.jsx(i,{value:r.Resolvida,children:"Resolvida"}),e.jsx(i,{value:r.Arquivada,children:"Arquivada"})]})]})}),e.jsx(c,{onClick:S,children:"Atualizar Status"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Adicionar Comentário"}),e.jsx(g,{placeholder:"Digite um comentário ou atualização sobre esta denúncia...",value:t,onChange:o=>m(o.target.value),className:"mb-2",rows:3}),e.jsx(c,{onClick:E,children:"Adicionar Comentário"})]}),a.contato&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Enviar Notificação"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"w-full max-w-xs",children:e.jsxs(x,{value:v,onValueChange:N,children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Selecione o canal"})}),e.jsxs(j,{children:[e.jsx(i,{value:"email",children:"E-mail"}),e.jsx(i,{value:"whatsapp",children:"WhatsApp"})]})]})}),e.jsx(c,{onClick:A,children:"Enviar Notificação"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["A notificação será enviada para: ",a.contato]})]})]})]})},M=()=>{const{denuncia:a}=C().props;return a?e.jsx(u,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(D,{denuncia:a}),e.jsx(b,{denuncia:a})]})})}):e.jsx(u,{children:e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-gray-500",children:"Denúncia não encontrada"})})})};export{M as default};
