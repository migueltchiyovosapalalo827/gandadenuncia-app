import{q as f,r as l,j as e,Y as o,m as j}from"./app-aEolSpHz.js";import{I as g}from"./input-rptCjXEt.js";import{B as s}from"./button-Dkwouc6J.js";import{A as y}from"./AdminLayout-D4wn_rRk.js";import{S as n}from"./sweetalert2.esm.all-89IKscqO.js";import{f as v,p as w}from"./pt-BR-D8VIATEZ.js";/* empty css            */import"./utils-jAU0Cazi.js";import"./createLucideIcon-D5YUeAK2.js";import"./log-out-FPLVxt3U.js";const T=()=>{const{denuncias:d}=f().props,[a,x]=l.useState(""),[r,m]=l.useState(""),c=d.filter(t=>{const i=!a||t.titulo.toLowerCase().includes(a.toLowerCase())||t.descricao.toLowerCase().includes(a.toLowerCase()),p=!r||t.status===r;return i&&p}),u=t=>{try{return v(new Date(t),"dd/MM/yyyy 'às' HH:mm",{locale:w})}catch{return t}},h=t=>{n.fire({title:"Tem certeza?",text:"Esta ação não poderá ser revertida!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&j.delete(route("admin.denuncias.destroy",{id:t}),{onSuccess:()=>{n.fire("Excluído!","A denúncia foi excluída com sucesso.","success")},onError:()=>{n.fire("Erro!","Ocorreu um erro ao excluir a denúncia.","error")}})})};return e.jsx(y,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gerenciar Denúncias"}),e.jsx(s,{asChild:!0,children:e.jsx(o,{href:route("admin.denuncias.create"),children:"Nova Denúncia"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{placeholder:"Pesquisar pelo título ou descrição",value:a,onChange:t=>x(t.target.value)})}),e.jsxs("select",{value:r,onChange:t=>m(t.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"Todos os status"}),e.jsx("option",{value:"pendente",children:"Pendente"}),e.jsx("option",{value:"em_analise",children:"Em Análise"}),e.jsx("option",{value:"resolvida",children:"Resolvida"}),e.jsx("option",{value:"arquivada",children:"Arquivada"})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-gray-600",children:[c.length," denúncia(s) encontrada(s)"]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(s,{variant:"outline",children:"Exportar Lista"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Título"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Localização"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.titulo}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.status}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u(t.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.localizacao}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(s,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(o,{href:route("admin.denuncias.show",{id:t.id}),children:"Ver"})}),e.jsx(s,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(o,{href:route("admin.denuncias.edit",{id:t.id}),children:"Editar"})}),e.jsx(s,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-800",onClick:()=>h(t.id),children:"Excluir"})]})})]},t.id))})]})})]})})};export{T as default};
