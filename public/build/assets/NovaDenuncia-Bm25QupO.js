import{r as d,v as m,j as e}from"./app-aEolSpHz.js";import{H as u}from"./Header-rUUoQ3Xr.js";import{B as x}from"./button-Dkwouc6J.js";import{I as c}from"./input-rptCjXEt.js";import{T as p}from"./textarea-CjZ1sPzF.js";import{L as o}from"./label-LC1StUgi.js";/* empty css            */import"./createLucideIcon-D5YUeAK2.js";import"./log-out-FPLVxt3U.js";import"./utils-jAU0Cazi.js";import"./index-DU0CmYYI.js";function h(){const[t,a]=d.useState([]),l=s=>{const r=Math.random().toString(36).substring(7);a(n=>[...n,{...s,id:r}]),setTimeout(()=>{i(r)},5e3)},i=s=>{a(r=>r.filter(n=>n.id!==s))};return{toasts:t,addToast:l,removeToast:i}}const v=()=>{const{addToast:t}=h(),a=m({titulo:"",descricao:"",localizacao:"",contato:"",arquivos:[]}),l=s=>{if(s.target.files){const r=Array.from(s.target.files);a.setData("arquivos",r)}},i=s=>{s.preventDefault(),a.post(route("denuncias.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{console.log("Resposta de sucesso"),t({title:"Sucesso!",description:"Sua denúncia foi registrada com sucesso.",type:"success"}),a.reset()},onError:r=>{console.error("Erros do formulário:",r),t({title:"Erro",description:"Ocorreu um erro ao registrar sua denúncia",type:"error"})}})};return e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"titulo",children:"Título da Denúncia"}),e.jsx(c,{id:"titulo",placeholder:"Ex: Buraco na Rua Principal",value:a.data.titulo,onChange:s=>a.setData("titulo",s.target.value),className:a.errors.titulo?"border-red-500":"",required:!0}),a.errors.titulo&&e.jsx("p",{className:"text-sm text-red-500",children:a.errors.titulo})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"descricao",children:"Descrição detalhada"}),e.jsx(p,{id:"descricao",placeholder:"Descreva com detalhes o problema",value:a.data.descricao,onChange:s=>a.setData("descricao",s.target.value),className:`min-h-[150px] ${a.errors.descricao?"border-red-500":""}`,required:!0}),a.errors.descricao&&e.jsx("p",{className:"text-sm text-red-500",children:a.errors.descricao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"localizacao",children:"Localização"}),e.jsx(c,{id:"localizacao",placeholder:"Ex: Rua Principal, 123 - Bairro Centro",value:a.data.localizacao,onChange:s=>a.setData("localizacao",s.target.value),className:a.errors.localizacao?"border-red-500":"",required:!0}),a.errors.localizacao&&e.jsx("p",{className:"text-sm text-red-500",children:a.errors.localizacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"contato",children:"Contato (opcional)"}),e.jsx(c,{id:"contato",placeholder:"Email ou WhatsApp para receber atualizações",value:a.data.contato,onChange:s=>a.setData("contato",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500",children:"Seus dados de contato são opcionais e só serão usados para notificá-lo sobre o andamento da denúncia"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"arquivos",children:"Fotos ou documentos (opcional)"}),e.jsx(c,{id:"arquivos",type:"file",multiple:!0,onChange:l,className:"cursor-pointer"}),a.data.arquivos&&a.data.arquivos.length>0&&e.jsxs("div",{className:"text-sm text-gray-600",children:[a.data.arquivos.length," arquivo(s) selecionado(s)"]})]}),e.jsx(x,{type:"submit",className:"w-full",disabled:a.processing,children:a.processing?"Enviando...":"Enviar Denúncia"})]})},S=()=>e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsx(u,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Registrar Nova Denúncia"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Preencha os detalhes da sua denúncia abaixo. Quanto mais informações você fornecer, mais rápido poderemos analisar e resolver o problema."}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsx(v,{})})]})}),e.jsx("footer",{className:"bg-gray-100 border-t border-gray-200 py-6",children:e.jsx("div",{className:"container mx-auto px-4 text-center text-gray-600",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," Sistema de Denúncias Públicas. Todos os direitos reservados."]})})})]});export{S as default};
