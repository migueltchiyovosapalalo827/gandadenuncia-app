import{q as x,r as u,j as e,Y as i,m as p}from"./app-aEolSpHz.js";import{I as h}from"./input-rptCjXEt.js";import{B as o}from"./button-Dkwouc6J.js";import{A as f}from"./AdminLayout-D4wn_rRk.js";import{S as l}from"./sweetalert2.esm.all-89IKscqO.js";import{f as y,p as j}from"./pt-BR-D8VIATEZ.js";/* empty css            */import"./utils-jAU0Cazi.js";import"./createLucideIcon-D5YUeAK2.js";import"./log-out-FPLVxt3U.js";const z=()=>{const{users:s}=x().props,[a,d]=u.useState(""),n=s.data.filter(t=>t.name.toLowerCase().includes(a.toLowerCase())||t.email.toLowerCase().includes(a.toLowerCase())),c=t=>{try{return y(new Date(t),"dd/MM/yyyy 'às' HH:mm",{locale:j})}catch{return t}},m=t=>{l.fire({title:"Tem certeza?",text:"Esta ação não poderá ser revertida!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&p.delete(route("admin.usuarios.destroy",{user:t}),{onSuccess:()=>{l.fire("Excluído!","O usuário foi excluído com sucesso.","success")},onError:()=>{l.fire("Erro!","Ocorreu um erro ao excluir o usuário.","error")}})})};return e.jsx(f,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gerenciar Usuários"}),e.jsx(o,{asChild:!0,children:e.jsx(i,{href:route("admin.usuarios.create"),children:"Novo Usuário"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsx(h,{placeholder:"Pesquisar por nome ou email",value:a,onChange:t=>d(t.target.value),className:"max-w-sm"})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Data de Criação"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length>0?n.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c(t.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(o,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(i,{href:route("admin.usuarios.edit",{user:t.id}),children:"Editar"})}),e.jsx(o,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-800",onClick:()=>m(t.id),children:"Excluir"})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Nenhum usuário encontrado."})})})]})}),s.last_page>1&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:s.links.map((t,r)=>e.jsx(i,{href:t.url||"#",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium 
                    ${t.active?"z-10 bg-primary-foreground border-primary text-primary-foreground":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}
                    ${t.url===null?"cursor-not-allowed opacity-50":""}
                    ${r===0?"rounded-l-md":""}
                    ${r===s.links.length-1?"rounded-r-md":""}
                  `,dangerouslySetInnerHTML:{__html:t.label}},r))})})]})})};export{z as default};
